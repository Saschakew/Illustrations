<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SVAR Intuition Visualizer</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/mobile.css">
</head>
<body>
    <!-- Global loading overlay - displayed immediately via inline styles to prevent FOUC -->
    <div id="global-loading-overlay" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: var(--color-background); color: var(--color-text); display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 9999; opacity: 1; transition: opacity 0.5s ease;">
        <div style="text-align: center; padding: 2rem;">
            <div style="width: 80px; height: 80px; margin: 0 auto 1.5rem; border: 4px solid rgba(0, 173, 181, 0.3); border-radius: 50%; border-top-color: #00ADB5; animation: spin 1s linear infinite;"></div>
            <div style="font-family: 'Lato', sans-serif; font-weight: 700; font-size: 1.8rem; margin-bottom: 0.5rem; color: #222831;">SVAR Visualizer</div>
            <div style="font-family: 'Lato', sans-serif; font-size: 1rem; color: #222831; opacity: 0.8;">Loading interactive content...</div>
        </div>
    </div>
    
    <style>
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
    
    <!-- Main page content - hidden initially -->
    <div id="global-page-wrapper" style="visibility: hidden; opacity: 0; transition: opacity 0.5s ease;">
        <header>
            <h1>Visualizing Intuition in Structural Vector Autoregressions</h1>
        </header>
        <nav>
            <a href="#svar-setup">SVAR Setup</a>
            <a href="#estimation-restrictions">Estimation with Restrictions</a>
            <a href="#estimation-nongaussianity">Estimation with Non-Gaussianity</a>
            <a href="#ridge-estimation">Ridge Estimation</a>
        </nav>
        <main>
            <section id="svar-setup"></section>
            <section id="estimation-restrictions"></section>
            <section id="estimation-nongaussianity"></section>
            <section id="ridge-estimation"></section>
        </main>
    </div>
    <!-- Libraries -->
    <!-- MathJax Configuration - must come before loading MathJax -->
    <script>
    window.MathJax = {
        tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']],
            displayMath: [['$$', '$$'], ['\\[', '\\]']],
            processEscapes: true,
            processEnvironments: true
        },
        options: {
            skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
        },
        startup: {
            pageReady: () => {
                console.log('MathJax page ready event triggered');
                return MathJax.startup.defaultPageReady();
            }
        }
    };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script"></script>
    <script src="https://cdn.plot.ly/plotly-3.0.1.min.js" charset="utf-8"></script>

    <!-- Shared data store for cross-section communication -->
    <script src="js/shared-data.js"></script>

    <!-- General UI logic -->
    <script src="js/menu.js"></script>
    
    <!-- Section-specific logic -->
    <script src="js/svar_setup.js"></script>
    <script src="js/estimation_restrictions.js"></script>
    <script src="js/estimation_nongaussianity.js"></script>
    <!-- TODO: Add other section scripts here as they are created -->

    <!-- Main application script that orchestrates everything -->
    <script src="js/main.js"></script>
</body>
</html>
